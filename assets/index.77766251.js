import{j as p,a as h,F as m,l as y,y as g,d,f as b,S as v}from"./vendor.be68324c.js";const w=function(){const o=document.createElement("link").relList;if(o&&o.supports&&o.supports("modulepreload"))return;for(const e of document.querySelectorAll('link[rel="modulepreload"]'))n(e);new MutationObserver(e=>{for(const r of e)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&n(c)}).observe(document,{childList:!0,subtree:!0});function i(e){const r={};return e.integrity&&(r.integrity=e.integrity),e.referrerpolicy&&(r.referrerPolicy=e.referrerpolicy),e.crossorigin==="use-credentials"?r.credentials="include":e.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function n(e){if(e.ep)return;e.ep=!0;const r=i(e);fetch(e.href,r)}};w();const s=p,a=h,A=m,D=()=>a("footer",{class:"container",children:[a("span",{children:["\xA9 ",new Date().getFullYear()," Days since last activity"]}),s("a",{href:"https://github.com/runningdeveloper/days-since-last",children:"About"})]}),l="Run";function L(f){const[o,i]=y(null);g(async()=>{try{const t=await fetch("https://geoffreyhun-strava-edit-72.deno.dev/last").then(u=>u.json());i([t])}catch(t){console.error(t)}},[]);const n=o==null?void 0:o.find(t=>t.type===l),e=t=>t<1e3?t.toString().padStart(3,"0"):"Err",r=t=>t?e(d(new Date,new Date(t.start_date_local))):"---",c=t=>t&&d(new Date,new Date(t.start_date_local))<=1?"#03ba0c":"#ea1d0d";return a(A,{children:[a("main",{children:[a("h1",{class:"title",children:[s("span",{class:"title1",children:s("span",{class:"day-background",children:"888"})}),s("span",{class:"title2",children:s("span",{id:"days",style:{"--number-color":c(n)},children:r(n)})}),s("span",{class:"title3",children:"DAYS"}),a("span",{class:"title4",children:["SINCE LAST ",l.toUpperCase()]})]}),s("p",{children:"Like at a mine or factory sign, except this is about exercise and LOWER is better."}),a("a",{id:"strava-link",href:`https://www.strava.com/activities/${n==null?void 0:n.id}`,target:"_blank",rel:"noopener noreferrer",children:["Last ",l," on"," ",n&&b(new Date(n==null?void 0:n.start_date_local),"PPPP")]})]}),s(D,{})]})}v(s(L,{}),document.getElementById("app"));
